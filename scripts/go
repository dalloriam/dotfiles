# Setup go on Linux
if not type -q go
    if test (uname) = Linux
        if type -q apt-get
            set goversion "1.20.2"

            set osarch (uname -m)
            if test $osarch = aarch64
                set arch arm64
            else if test $osarch = x86_64
                set arch amd64
            end

            wget https://go.dev/dl/go$goversion.linux-$arch.tar.gz
            sudo rm -rf /usr/local/go && sudo tar -C /usr/local -xzf go$goversion.linux-$arch.tar.gz
            rm go$goversion.linux-$arch.tar.gz
        end

        if type -q pacman
            sudo pacman --noconfirm -S go
        end
    end
end

#TODO: Support macos
